{% import 'snippets/links.jinja' as links %}
{% import 'snippets/entityrow.jinja' as entityrow %}



{% set firstindex = amountkeys.page * amountkeys.perpage %}
{% set lastindex = firstindex + amountkeys.perpage %}

<script src="/edit.js"></script>

<table class='list'>
	{% for e in list %}
		{% if loop.index0 >= firstindex and loop.index0 < lastindex %}
		<tr class="listrow unmarked" data-entity_id="{{ e['track_id'] }}" data-entity_type="track" data-entity_name="{{ e['track'].title }}">

			<!-- artist -->
			{{ entityrow.row(e['track']) }}

			{% with inlineicons = True %}
			<td>
			{% include 'icons/association_mark.jinja' %}
			{% include 'icons/association_cancel.jinja' %}
			</td>
			{% endwith %}

		</tr>
		{% endif %}
	{% endfor %}
</table>

<script>

var listrows = document.getElementsByClassName('listrow');
for (var row of listrows) {
	toggleAssociationIcons(row);
}

</script>
