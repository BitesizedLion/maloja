<h1>Featured</h1>


{% set entitytypes = [
	{'identifier':'artist','localisation':"Artist", 'template':"info_artist.jinja", 'filterkeys':{"artist":"Blackpink"} },
	{'identifier':'track','localisation':"Track", 'template':"info_track.jinja", 'filterkeys':{"track": {"artists": ["Red Velvet"], "title": "Russian Roulette"}} },
	{'identifier':'album','localisation':"Album", 'template':"info_album.jinja", 'filterkeys':{"album": {"artists": ["TWICE"], "albumtitle": "The Story Begins"}} }
] %}


{% for t in entitytypes -%}
	<span onclick="showFeatured('{{ t.identifier }}')" class="stat_selector_featured stat_selector_featured_{{ t.identifier }}">
		{{ t.localisation }}
	</span>
	{{ "|" if not loop.last }}
{%- endfor %}

<br/><br/><br/>


{% for t in entitytypes -%}
	<section class="stat_module_featured featured_{{ t.identifier }}" style="display:none;">
		{%- with filterkeys = t.filterkeys -%}
		{% include 'partials/' + t.template %}
		{%- endwith -%}
	</section>
{%- endfor %}




<script>
function showFeatured(t) {
	// Make all modules disappear
	var modules = document.getElementsByClassName("stat_module_featured");
	for (var i=0;i<modules.length;i++) {
		modules[i].setAttribute("style","display:none;");
	}

	// Make requested module appear
	var reactivate = document.getElementsByClassName("featured_" + t);
	for (var i=0;i<reactivate.length;i++) {
		reactivate[i].setAttribute("style","");
	}

	// Set all selectors to unselected
	var selectors = document.getElementsByClassName("stat_selector_featured");
	for (var i=0;i<selectors.length;i++) {
		selectors[i].setAttribute("style","");
	}

	// Set the active selector to selected
	var reactivate = document.getElementsByClassName("stat_selector_featured_" + t);
	for (var i=0;i<reactivate.length;i++) {
		reactivate[i].setAttribute("style","opacity:0.5;");
	}
}
</script>
